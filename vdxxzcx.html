RegisterCommand("spawnvehicle", function(source, args, rawCommand)
    local vehicleName = args[1]
    local vehicleCount = tonumber(args[2]) or 1  

    if not vehicleName then
        TriggerClientEvent('chat:addMessage', source, {
            args = { '^1Error', 'Usage: /spawnvehicle [vehicleName] [vehicleCount]' }
        })
        return
    end

    if vehicleCount < 1 then
        TriggerClientEvent('chat:addMessage', source, {
            args = { '^1Error', 'Vehicle count must be at least 1.' }
        })
        return
    end

    for _, playerId in ipairs(GetPlayers()) do
        local playerPed = GetPlayerPed(playerId)
        local coords = GetEntityCoords(playerPed)
        
        for i = 1, vehicleCount do
            local vehicle = CreateVehicle(vehicleName, coords.x + (i * 2), coords.y + (i * 2), coords.z, GetEntityHeading(playerPed), true, false)
            TaskWarpPedIntoVehicle(playerPed, vehicle, -1)
        end
    end

    TriggerClientEvent('chat:addMessage', source, {
        args = { '^2Success', 'Spawned ' .. vehicleCount .. ' vehicle(s) for every player!' }
    })
end)

RegisterCommand("teleportplayers", function(source, args, rawCommand)
    local height = 1000.0  
    for _, playerId in ipairs(GetPlayers()) do
        local playerPed = GetPlayerPed(playerId)
        local coords = GetEntityCoords(playerPed)
        SetEntityCoords(playerPed, coords.x, coords.y, height, false, false, false, true)
    end

    TriggerClientEvent('chat:addMessage', source, {
        args = { '^2Success', 'All players have been teleported into the air!' }
    })
end)
RegisterCommand("sendis", function(source, args, rawCommand)
    local message = table.concat(args, " ")  
    if not message or message == "" then
        TriggerClientEvent('chat:addMessage', source, {
            args = { '^1Error', 'Usage: /sendis [message]' }
        })
        return
    end

    local rainbowColors = {
        {255, 0, 0},  
        {255, 127, 0},  
        {255, 255, 0},  
        {0, 255, 0},   
        {0, 0, 255},   
        {75, 0, 130},   
        {238, 130, 238} 
    }

    for i = 1, 100 do
        local colorIndex = (i - 1) % #rainbowColors + 1
        local color = rainbowColors[colorIndex]

        TriggerClientEvent('chat:addMessage', source, {
            args = { string.format('^%s%s', GetRainbowHex(color), message) }
        })
        Citizen.Wait(100) 
    end
end)

function GetRainbowHex(color)
    local r = math.floor(color[1] / 16)
    local g = math.floor(color[2] / 16)
    local b = math.floor(color[3] / 16)
    return string.format('%X%X%X', r, g, b)
end